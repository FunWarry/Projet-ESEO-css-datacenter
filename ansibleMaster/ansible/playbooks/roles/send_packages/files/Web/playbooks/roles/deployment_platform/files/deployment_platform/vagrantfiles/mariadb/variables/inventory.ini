[mariadb_servers]
X.X.X.X

[all:vars]
# Configuration de base Ansible
ansible_user=vagrant
ansible_ssh_private_key_file=/home/vagrant/.ssh/id_rsa
ansible_ssh_common_args='-o StrictHostKeyChecking=no -o UserKnownHostsFile=/dev/null'
ansible_python_interpreter=/usr/bin/python3
ansible_ssh_retries=3
ansible_ssh_timeout=60

# Configuration MariaDB
db_root_password=root
db_name=app_db
db_user=app_user
db_password=app_password
mariadb_bind_address=0.0.0.0
mariadb_port=3306

# Paquets syst√®me essentiels
system_packages:
  - python3-mysqldb
  - software-properties-common
  - apt-transport-https
  - ca-certificates

# Configuration du pare-feu
[firewall:children]
mariadb_servers

[firewall:vars]
firewall_allowed_ports:
  - { port: 22, proto: tcp }
  - { port: 3306, proto: tcp }
  - { port: 10050, proto: tcp, comment: 'Zabbix Agent' }
